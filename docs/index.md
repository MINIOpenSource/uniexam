# 项目文档入口

欢迎来到在线考试系统后端API项目的文档中心。

在这里您可以找到关于项目不同方面的详细信息：

-   **API接口文档**:
    -   [API详细说明](./api/index.md)
-   **项目设置与配置**:
    -   **安装与启动**: 请参考项目根目录的 `README.md` 文件中的“快速开始”部分，使用 `install.sh` 脚本进行环境初始化和依赖安装，并通过 `python run.py` 启动应用。
    -   **核心配置**: 应用的核心配置通过 `app/core/config.py` 中的 `Settings` 模型进行管理，可以加载 `.env` 文件以及 `data/settings.json` 中的设置。详细的配置项说明请参考该代码文件。
-   **项目结构**:
    -   项目采用FastAPI框架构建，主要业务逻辑位于 `app/` 目录下。
        -   `app/main.py`: 定义面向用户的API端点。
        -   `app/admin_routes.py`: 定义管理员相关的API端点。
        -   `app/core/`: 包含核心配置、安全、接口定义等。
        -   `app/crud/`: 包含数据存储和读写操作的实现。
        -   `app/models/`: 定义Pydantic数据模型。
        -   `app/services/`: (未来可能使用) 用于存放更复杂的业务服务。
        -   `app/utils/`: 包含辅助函数。
        -   `data/`: 存放数据文件，包括题库和用户数据。
-   **命令行工具**:
    -   项目提供 `examctl.py` 命令行工具，用于执行管理任务。具体使用方法请通过 `python examctl.py --help` 查看。
-   **应用运行状态**:
    -   应用启动后，默认监听的主机地址是 `0.0.0.0` (表示本机所有网络接口)，默认端口号为 `17071`。
    -   您可以通过控制台输出来确认实际的监听地址和端口。查找类似 "Uvicorn running on http://0.0.0.0:17071" 的信息。
    -   具体的端口号可以通过项目根目录下的 `.env` 文件中设置 `LISTENING_PORT` 来修改，或查看 `app/core/config.py` 中 `Settings` 模型的 `listening_port` 值。
    -   要访问应用，请在浏览器或API测试工具中打开 `http://<您的服务器IP或域名>:<端口号>`。例如，如果在本地运行，通常是 `http://127.0.0.1:17071` 或 `http://localhost:17071`。
    -   API文档（Swagger UI）通常位于应用的 `/docs` 路径下，例如 `http://127.0.0.1:17071/docs`。
    -   ReDoc文档通常位于应用的 `/redoc` 路径下。
-   **日志系统说明**:
    -   **日志格式**: 应用的文件日志采用JSON结构化格式，方便机器解析和后续处理。控制台日志则保持为人类可读的文本格式。
    -   **日志文件位置**: 默认情况下，日志文件名为 `exam_app.log`，存储在项目根目录下的 `data/` 文件夹中 (即 `data/exam_app.log`)。
    -   **日志级别与文件名配置**: 日志的级别 (如 `INFO`, `DEBUG`) 和文件名可以通过 `data/settings.json` 文件进行配置，或者在 `app/core/config.py` 中的 `Settings` 模型查看和修改默认值。
    -   **日志轮转**: 文件日志配置为每天午夜 (UTC时间) 进行自动轮转。
    -   **备份保留**: 系统会自动保留最近7天的日志备份文件。旧的日志文件会附加日期戳（例如 `exam_app.log.YYYY-MM-DD`）。
-   **贡献指南**:
    -   [如何为本项目贡献](./CONTRIBUTING.md)

我们致力于提供清晰、准确的文档。如果您发现任何问题，请随时提出Issue。

[end of docs/index.md]
